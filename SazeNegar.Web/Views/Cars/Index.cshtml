@model List<SazeNegar.Core.Models.Cars>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Html.Action("Titlebar", "Cars")

<!-- Content
================================================== -->
<div class="container">
    <div class="row sticky-wrapper">

        @Html.Action("Sidebar", "Cars")

        <div class="col-lg-8 col-md-8 dir-rtl">

            <h4 class="headline">لیست خودرو ها</h4>

            <!-- Main Search Input -->
            <div class="main-search-input margin-bottom-35">
                <input type="text" class="ico-01" placeholder="مدل و ... را وارد کنید" value="" />
                <button class="button">جستجو</button>
            </div>

            <!-- Sorting / Layout Switcher -->
            <div class="row margin-bottom-15">

                <div class="col-md-6">
                    <!-- Sort by -->
                    <div class="sort-by">
                        <label>مرتب سازی براساس:</label>

                        <div class="sort-by-select">
                            <select data-placeholder="پیش فرض" class="chosen-select-no-single">
                                <option>پیش فرض</option>
                                <option>قیمت از کم به زیاد</option>
                                <option>قیمت از زیاد به کم</option>
                                <option>جدیدترین</option>
                                <option>قدیمی ترین</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <!-- Layout Switcher -->
                    <div class="layout-switcher">
                        <a href="#" class="list"><i class="fa fa-th-list"></i></a>
                        <a href="#" class="grid"><i class="fa fa-th-large"></i></a>
                    </div>
                </div>
            </div>


            <!-- Listings -->
            <div class="listings-container list-layout">


                @foreach (var item in Model)
                {

                    <!-- Listing Item -->

                    <a href="/Cars/singleCar">
                        <div class="listing-item">

                            <div class="listing-img-container">

                                <div class="listing-badges">
                                    @if (item.Special != null)
                                    {
                                        <span class="featured">ویژه</span>
                                    }
                                </div>

                                <div class="listing-img-content">
                                    <span class="listing-price"> @item.Price تومان</span>
                                    <span class="like-icon tooltip"></span>
                                </div>

                                <div class="listing-carousel">
                                    <div><img src="../../Files/CarsImages/Image/@item.Image" alt=""></div>
                                </div>
                            </div>

                            <div class="listing-content">

                                <div class="listing-title">
                                    <h4>
                                        <div>@item.Brand.Brand</div>
                                    </h4>


                                    <div class="details button border">
                                        جزئیات
                                    </div>
                                </div>

                                <ul class="listing-details">
                                    @if (item.Gear != null)
                                    {
                                        <li>دنده اتومات</li>
                                    }
                                    @if (item.Navigation != null)
                                    {
                                        <li>نویگیشن</li>
                                    }
                                    @if (item.Sunroof != null)
                                    {
                                        <li>سانروف</li>
                                    }
                                </ul>

                                <div class="listing-footer">

                                    <span><i class="fa fa-calendar-o"></i>@item.PersianDateTime </span>
                                </div>

                            </div>

                        </div>
                    </a>

                    <!-- Listing Item / End -->
                }


            </div>
            <!-- Listings Container / End -->
            <!-- Pagination -->
            <div class="clearfix"></div>
            <div class="pagination-container">
                <nav class="pagination">
                    <ul>
                        @{
                            if (ViewBag.CurrentPage > 1)
                            {
                                <li>
                                    <a href="/Cars?pageNumber=@(ViewBag.CurrentPage - 1)@(ViewBag.CategoryId != null ? $"&category={ViewBag.CategoryId}" : null)@(ViewBag.SearchString != null ? $"&searchString={ViewBag.SearchString}" : null)" class="prev">
                                        قبلی
                                    </a>
                                </li>
                            }
                            for (int i = 1; i <= ViewBag.PageCount; i++)
                            {
                                <li class="@(i == ViewBag.CurrentPage ? "active" : null)"><a href="/Cars?pageNumber=@i@(ViewBag.CategoryId != null ? $"&category={ViewBag.CategoryId}" : null)@(ViewBag.SearchString != null ? $"&searchString={ViewBag.SearchString}" : null)">@i</a></li>
                            }
                            if (ViewBag.CurrentPage < ViewBag.PageCount)
                            {
                                <li><a href="/Cars?pageNumber=@(ViewBag.CurrentPage+1)@(ViewBag.CategoryId != null? $"&category={ViewBag.CategoryId}":null)@(ViewBag.SearchString != null? $"&searchString={ViewBag.SearchString}":null)" class="next">بعدی</a></li>
                            }
                        }
                    </ul>
                </nav>


            </div>
            <div class="clearfix"></div>
            <!-- Pagination / End -->

        </div>

    </div>
</div>

<div class="margin-top-55"></div>
